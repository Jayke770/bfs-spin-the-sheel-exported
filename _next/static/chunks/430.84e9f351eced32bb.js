"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{4430:function(t,e,n){n.r(e),n.d(e,{Wheel:function(){return S}});var r=n(5893),o=n(7294);let i=(t,e)=>{let n=360/e,r=n*(e-t)-(43+n/2)+(-1+2*Math.random())*n*.35;return e-t>e/2?-360+r:r},a=(t,e,n)=>Math.min(Math.max(t,+n),e);var s=n(7297),l=n(9521);function u(){let t=(0,s.Z)(["\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n  user-drag: none;\n"]);return u=function(){return t},t}let h=l.ZP.img(u());function c(){let t=(0,s.Z)(["\n  position: relative;\n  object-fit: contain;\n  flex-shrink: 0;\n  z-index: 5;\n  pointer-events: none;\n"]);return c=function(){return t},t}function d(){let t=(0,s.Z)(["\n  position: absolute;\n  width: 100%;\n  left: 0px;\n  right: 0px;\n  top: 0px;\n  bottom: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: rotate(","deg);\n\n  &.started-spinning {\n    animation: spin ","s\n        cubic-bezier(0.71, -0.29, 0.96, 0.9) 0s 1 normal forwards running,\n      continueSpin ","s\n        linear ","s 1 normal\n        forwards running,\n      stopSpin ","s\n        cubic-bezier(0, 0, 0.35, 1.02)\n        ","s\n        1 normal forwards running;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(","deg);\n    }\n    to {\n      transform: rotate(","deg);\n    }\n  }\n  @keyframes continueSpin {\n    from {\n      transform: rotate(","deg);\n    }\n    to {\n      transform: rotate(","deg);\n    }\n  }\n  @keyframes stopSpin {\n    from {\n      transform: rotate(","deg);\n    }\n    to {\n      transform: rotate(","deg);\n    }\n  }\n"]);return d=function(){return t},t}function g(){let t=(0,s.Z)(["\n  position: absolute;\n  z-index: 5;\n  width: 17%;\n  right: 6px;\n  top: 15px;\n"]);return g=function(){return t},t}let f=l.ZP.div(c()),p=l.ZP.div(d(),t=>t.startRotationDegrees,t=>{let{startSpinningTime:e}=t;return e/1e3},t=>{let{continueSpinningTime:e}=t;return e/1e3},t=>{let{startSpinningTime:e}=t;return e/1e3},t=>{let{stopSpinningTime:e}=t;return e/1e3},t=>{let{startSpinningTime:e,continueSpinningTime:n}=t;return(e+n)/1e3},t=>t.startRotationDegrees,t=>t.startRotationDegrees+360,t=>t.startRotationDegrees,t=>t.startRotationDegrees+360,t=>t.startRotationDegrees,t=>1440+t.finalRotationDegrees);(0,l.ZP)(h)(g());let m=["darkgrey","lightgrey"],x=["black"];function w(){let t=(0,s.Z)(["\n  width: 98%;\n  height: 98%;\n"]);return w=function(){return t},t}let k=l.ZP.canvas(w()),b=(t,e,n)=>{let r=e.length,{outerBorderColor:o,outerBorderWidth:i,innerRadius:s,innerBorderColor:l,innerBorderWidth:u,radiusLineColor:h,radiusLineWidth:c,fontSize:d,perpendicularText:g,textDistance:f}=n;i*=2,u*=2,c*=2,d*=2.5;let p=t.current;if(null==p?void 0:p.getContext("2d")){let t=p.getContext("2d");t.clearRect(0,0,500,500),t.strokeStyle="transparent",t.lineWidth=0;let n=Math.PI/(r/2),m=p.width/2-10,x=a(0,100,f),w=m*x/100,k=a(0,100,s),b=m*k/100,v=p.width/2,S=p.height/2;t.font="bold ".concat(d,"px f1");for(let r=0;r<e.length;r++){let a=0+r*n,{style:s}=e[r];t.fillStyle=s&&s.backgroundColor,t.beginPath(),t.arc(v,S,m,a,a+n,!1),t.arc(v,S,b,a+n,a,!0),t.stroke(),t.fill(),t.save(),t.strokeStyle=c<=0?"transparent":h,t.lineWidth=c;for(let r=0;r<e.length;r++){let e=0+r*n;t.beginPath(),t.moveTo(v+(b+1)*Math.cos(e),S+(b+1)*Math.sin(e)),t.lineTo(v+(m-1)*Math.cos(e),S+(m-1)*Math.sin(e)),t.closePath(),t.stroke()}t.strokeStyle=i<=0?"transparent":o,t.lineWidth=i,t.beginPath(),t.arc(v,S,m-t.lineWidth/2,0,2*Math.PI),t.closePath(),t.stroke(),t.strokeStyle=u<=0?"transparent":l,t.lineWidth=u,t.beginPath(),t.arc(v,S,b+t.lineWidth/2-1,0,2*Math.PI),t.closePath(),t.stroke(),t.fillStyle=s&&s.textColor,t.translate(v+Math.cos(a+n/2)*w,S+Math.sin(a+n/2)*w);let f=e[r].option,p=g?a+n/2+Math.PI/1:a+n/2;t.rotate(p),t.fillText(f,-t.measureText(f).width/50,d/2.7),t.restore()}}},v=t=>{let{width:e,height:n,data:i,outerBorderColor:a,outerBorderWidth:s,innerRadius:l,innerBorderColor:u,innerBorderWidth:h,radiusLineColor:c,radiusLineWidth:d,fontSize:g,perpendicularText:f,textDistance:p}=t,m=(0,o.createRef)(),x={outerBorderColor:a,outerBorderWidth:s,innerRadius:l,innerBorderColor:u,innerBorderWidth:h,radiusLineColor:c,radiusLineWidth:d,fontSize:g,perpendicularText:f,textDistance:p};return(0,o.useEffect)(()=>{b(m,i,x)},[m,i,x]),(0,r.jsx)(k,{ref:m,width:e,height:n})},S=t=>{let{mustStartSpinning:e,prizeNumber:n,data:a,onStopSpinning:s=()=>null,backgroundColors:l=m,textColors:u=x,outerBorderColor:h="black",outerBorderWidth:c=5,innerRadius:d=0,innerBorderColor:g="black",innerBorderWidth:w=0,radiusLineColor:k="black",radiusLineWidth:b=5,fontSize:S=20,perpendicularText:y=!1,textDistance:P=60,spinDuration:M=1,selectorImage:C}=t,[R,D]=(0,o.useState)([...a]),[W,Z]=(0,o.useState)(0),[T,j]=(0,o.useState)(0),[z,E]=(0,o.useState)(!1),[N,B]=(0,o.useState)(!1),[I,_]=(0,o.useState)(!1),[L,q]=(0,o.useState)(!1),A=Math.max(.01,M),F=2600*A,G=750*A,H=8e3*A,J=F+G+H,K=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let t=a.length,e=[{option:""}];for(let o=0;o<t;o++){var n,r;e[o]={...a[o],style:{backgroundColor:(null===(n=a[o].style)||void 0===n?void 0:n.backgroundColor)||l[o%l.length],textColor:(null===(r=a[o].style)||void 0===r?void 0:r.textColor)||u[o%u.length]}}}D([...e]),q(!0)},[a,l,u]),(0,o.useEffect)(()=>{if(e&&!I){_(!0),O();let t=i(n,a.length);j(t)}},[e]),(0,o.useEffect)(()=>{N&&(_(!1),Z(T))},[N]);let O=()=>{E(!0),B(!1),K.current=!0,setTimeout(()=>{K.current&&(K.current=!1,E(!1),B(!0),s())},J)};return L?(0,r.jsxs)(f,{className:"h-[80vw] w-[80vw] md:h-[70vw] md:w-[70vw] lg:h-[60vw] lg:w-[60vw] xl:h-[38vw] xl:w-[38vw]",children:[(0,r.jsx)(p,{className:z?"started-spinning":"",startSpinningTime:F,continueSpinningTime:G,stopSpinningTime:H,startRotationDegrees:W,finalRotationDegrees:T,children:(0,r.jsx)(v,{width:"900",height:"900",data:R,outerBorderColor:h,outerBorderWidth:c,innerRadius:d,innerBorderColor:g,innerBorderWidth:w,radiusLineColor:k,radiusLineWidth:b,fontSize:S,perpendicularText:y,textDistance:P})}),(0,r.jsx)("img",{src:C,className:"absolute w-80 object-contain [transform:rotate(318deg)] z-5 -right-44 -top-28 xl:-right-32 xl:-top-20",alt:"roulette-static"})]}):null}}}]);